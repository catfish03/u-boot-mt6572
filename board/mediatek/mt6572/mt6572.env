stdin=serial,button-kbd
stdout=serial,vidconsole
stderr=serial,vidconsole
bootdelay=-1

# bootretry will run this command over and over, if we fail once
# then bail out to the boot menu instead (with a pause to read
# the error message)
bootcmd=boot; pause; run menucmd

# When entering the menu (either from button press or failed boot)
# remap bootcmd so it will re-open the menu and we won't get stuck
# at the console with no way to type
menucmd=setenv bootcmd run menucmd; bootmenu -1

# Pause is used so the output can be read on the display
bootmenu_0=Boot=echo boot; pause
bootmenu_1=Reset device=reset
bootmenu_2=Power off device=poweroff
bootmenu_3=Dump environment=printenv; pause
bootmenu_4=Dump board info=bdinfo; pause
bootmenu_5=Dump memory info=meminfo; pause
bootmenu_6=ufetch=ufetch -n; pause
